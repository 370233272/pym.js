/*! child-tracker-loader.js - v1.1.0 - 2016-09-30 */
!function(a,b){var c=function(a){return a?a.autoInit():null},d=function(a){this.sendMessage("on-screen",a)},e=function(){var a=location.hash;this.sendMessage("visibility-available",a)},f=function(a){this.trackers[a].stopTracking(),delete this.trackers[a]},g=function(a,b){var c={};if(a){var e=new a.VisibilityTracker(this,b,d.bind(this,b),c);this.trackers[b]=e}else{var f=new window.ChildTracker.VisibilityTracker(this,b,d.bind(this,b),c);this.trackers[b]=f}},h=function(a,b){for(var c=0;c<a.length;c++)!function(c){var d=a[c];d.trackers={},d.onMessage("test-visibility-tracker",e),d.onMessage("remove-tracker",f),d.onMessage("new-fact-check",g.bind(d,b))}(c)},i=function(b,d){if("undefined"!=typeof a){b=b.split(".js")[0],d=d.split(".js")[0];var e="context_debates_"+b.split("/").slice(-1)[0],f=a.config({context:e,paths:{pym:b,tracker:d},shim:{pym:{exports:"pym"},tracker:{exports:"tracker"}}});return f(["require","pym","tracker"],function(a,b,d){var e=c(b);e?h(e,d):console.error("did not find any pym instance on autoInit")}),!0}return!1},j=function(a,d){return"undefined"!=typeof b&&"function"==typeof b.getScript&&(b.getScript(a).done(function(){var a=c(window.pym);b.getScript(d).done(function(){h(a)})}),!0)},k=function(a,b){var d=document.getElementsByTagName("head")[0],e=document.createElement("script");return e.type="text/javascript",e.src=a,e.onload=function(){d&&e.parentNode&&d.removeChild(e);var a=c(window.pym);d=document.getElementsByTagName("head")[0];var f=document.createElement("script");f.type="text/javascript",f.src=b,f.onload=function(){d&&e.parentNode&&d.removeChild(e),h(a)},d.appendChild(f)},d.appendChild(e),!0},l="//pym.nprapps.org/pym.v1.min.js";0===l.lastIndexOf("@@",0)&&(l="../../src/pym.js");var m="//carebot.nprapps.org/child-tracker.v1.min.js";0===m.lastIndexOf("@@",0)&&(m="../../src/child-tracker.js"),i(l,m)||j(l,m)||k(l,m);var n=function(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n);var a=c(window.pym);return a&&"undefined"!=typeof ChildTracker&&h(a),a};window.document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n)}(window.requirejs,window.jQuery);